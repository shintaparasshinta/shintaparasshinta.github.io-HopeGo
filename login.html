<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HopeGo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="navbar.css" />
  </head>
  <style>
    .error-message {
      color: red;
      font-size: 0.9rem;
      display: none;
    }
  </style>
  <body>
    <!-- navbar -->
    <nav class="navbar navbar-expand-lg sticky-top">
      <div class="container">
        <a class="navbar-brand" href="#">
          <img
            src="bahan/HopeGo.png"
            alt="HopeGo Logo"
            width="224"
            height="48"
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarNav"
        >
          <ul class="navbar-nav text-center">
            <li class="nav-item">
              <a class="nav-link" href="awal.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="service.html">Service</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="order.html">Order</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="lacak.html">Lacak Paket</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="information.html">Information</a>
            </li>
            <li class="nav-item">
              <a class="nav-link fw-bold" href="login.html">Login / Register</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container mt-5" style="max-width: 400px">
      <h3 class="mb-4 text-center text-warning fw-bold">Login</h3>
      <form id="loginForm" novalidate>
        <div class="mb-3">
          <label for="username" class="form-label">Username</label>
          <input
            type="text"
            class="form-control"
            id="username"
            placeholder="Masukkan Username"
            required
          />
          <div class="invalid-feedback">Username wajib diisi.</div>
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <input
            type="password"
            class="form-control"
            id="password"
            placeholder="Masukkan Password"
            required
          />
          <div id="passwordError" class="error-message">
            Password harus minimal 8 karakter, mengandung huruf besar, kecil,
            dan angka.
          </div>
        </div>
        <button type="submit" class="btn btn-warning w-100 fw-bold">
          Login
        </button>
      </form>
      <div id="alertPlaceholder" class="mt-3"></div>
    </div>

    <script>
      const loginForm = document.getElementById("loginForm");
      const alertPlaceholder = document.getElementById("alertPlaceholder");

      function isPasswordValid(password) {
        const panjang = /.{8,}/;        // max 8 karakter
        const hurufBesar = /[A-Z]/;     // huruf besar
        const hurufKecil = /[a-z]/;     // huruf kecil
        const angka = /[0-9]/;          // angka 0 - 9
        return (
          panjang.test(password) &&
          hurufBesar.test(password) &&
          hurufKecil.test(password) &&
          angka.test(password)
        );          // untuk mengetest validasi
      }

      loginForm.addEventListener("submit", function (e) {
        e.preventDefault(); // agar form tdk langsung dikirim

        const usernameInput = document.getElementById("username");
        const passwordInput = document.getElementById("password");
        const passwordError = document.getElementById("passwordError");

        const username = usernameInput.value.trim(); // .trim untuk menghapus spasi
        const password = passwordInput.value;

        // menghapus pesan kesalahan sebelumnya
        usernameInput.classList.remove("is-invalid");
        passwordInput.classList.remove("is-invalid");
        passwordError.style.display = "none";
        alertPlaceholder.innerHTML = "";

        // tdk boleh kosong
        if (!username) {
          usernameInput.classList.add("is-invalid");
          return;
        }

        if (!password) {
          passwordInput.classList.add("is-invalid");
          return;
        }

        // cross check
        if (!isPasswordValid(password)) {
          passwordError.style.display = "block";
          return;
        }

        // Tampilkan alert berhasil login
        alertPlaceholder.innerHTML = `
          <div class="alert alert-warning alert-dismissible fade show" role="alert">
            Login berhasil! Selamat datang, <strong>${username}</strong>.
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        `;

        loginForm.reset();
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.js"></script>
  </body>
</html>
